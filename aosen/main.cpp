#include "mainwindow.h"
#include <QApplication>
#include "dbmanager.h"
#include <random>

std::random_device rdone;  // 真随机数设备
std::mt19937 genone(rdone()); // 使用Mersenne Twister引擎
std::uniform_int_distribution<> disX(0, 1000); // x坐标范围
std::uniform_int_distribution<> disY(0, 800); // y坐标范围

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    DBManager db;
    db.createTable();
    db.clearTable();

    //插入节点进入数据库中
    db.insertPlace("森林餐厅", "绿荫下的健康美食", "森林餐厅位于公园东侧，主打绿色有机食品，环境优雅。", "餐厅", 130, 260);
    db.insertPlace("奥森咖啡屋", "适合散步后的咖啡时光", "奥森咖啡屋提供香浓咖啡和甜点，是游客休憩的好地方。", "咖啡厅", 120, 245);
    db.insertPlace("阳光酒店", "靠近南门的舒适酒店", "阳光酒店提供高品质住宿服务，距离奥森公园南门仅500米。", "酒店", 90, 210);
    db.insertPlace("儿童游乐场", "孩子们的欢乐天地", "拥有滑梯、秋千和攀爬架，是亲子活动的理想之地。", "娱乐场所", 110, 230);
    db.insertPlace("北门厕所", "干净整洁的公共卫生间", "位于北门附近，方便游客使用。", "厕所", 102, 252);
    db.insertPlace("水榭餐厅", "临水而建的中餐厅", "提供地道北京菜和江南水乡风情装潢。", "餐厅", 135, 265);
    db.insertPlace("奥森宾馆", "经济型住宿选择", "适合短期停留的游客，靠近公园东门。", "酒店", 125, 220);
    db.insertPlace("健身广场", "晨练首选之地", "设有健身器械，适合老年人锻炼身体。", "娱乐场所", 115, 235);
    db.insertPlace("南门厕所", "南门处便利设施", "靠近出入口，干净卫生。", "厕所", 98, 208);

    // 再加40个地点
    QStringList names = {
        "芳草地西餐厅", "林间小旅馆", "东门厕所", "晨光舞台", "绿影咖啡", "青松日料",
        "花园酒店", "儿童天地", "休闲烧烤园", "雨露小筑", "游客服务中心", "观景台",
        "奥运记忆展览馆", "自行车租赁站", "欢乐动物园", "帐篷露营地", "民俗展区", "北林旅社",
        "生态餐厅", "青年旅社", "湿地科普馆", "露天电影院", "小溪餐馆", "花海步道",
        "森林酒吧", "竹林茶馆", "艺术书屋", "四季酒店", "自然体验区", "蝴蝶谷",
        "夜光广场", "亲水平台", "阳光KTV", "和风便当", "榕树下酒店", "大地影院",
        "松林公厕", "风之舞台", "儿童滑板区", "陶艺馆", "氧吧小屋"
    };

    QStringList types = {
        "餐厅", "酒店", "厕所", "娱乐场所", "咖啡厅", "餐厅",
        "酒店", "娱乐场所", "餐厅", "酒店", "服务中心", "娱乐场所",
        "博物馆", "服务中心", "娱乐场所", "娱乐场所", "博物馆", "酒店",
        "餐厅", "酒店", "博物馆", "娱乐场所", "餐厅", "娱乐场所",
        "餐厅", "咖啡厅", "娱乐场所", "酒店", "娱乐场所", "娱乐场所",
        "娱乐场所", "娱乐场所", "娱乐场所", "餐厅", "酒店", "娱乐场所",
        "厕所", "娱乐场所", "娱乐场所", "博物馆", "酒店"
    };

    for (int i = 0; i < names.size(); ++i) {
        db.insertPlace(
            names[i],
            names[i] + " 是奥森附近热门的" + types[i] + "。",
            names[i] + " 提供优质服务，深受游客喜爱。无论是休闲、餐饮还是住宿，这里都是不错的选择。",
            types[i],
            disX(genone),  // 随机x坐标(0-600)
            disY(genone)   // 随机y坐标(0-600)
            );
    }

    MainWindow w;

    w.show();
    return a.exec();
}
